<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ELSA App ‚Äì The Supreme</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #000000, #FFD700);
      color: white;
    }
    .page { display: none; padding: 20px; }
    .active { display: block; }
    .splash { text-align: center; font-size: 2em; padding-top: 30vh; }
    .nav { position: fixed; bottom: 0; width: 100%; background: #111; display: flex; justify-content: space-around; }
    .nav button { background: none; border: none; color: gold; padding: 10px; font-size: 1em; }
    .input { margin: 10px 0; display: block; padding: 10px; width: 100%; }
    .btn { background: gold; color: black; border: none; padding: 10px; width: 100%; margin-top: 10px; cursor: pointer; }
    #chartContainer { height: 300px; background: #fff; color: black; margin-top: 10px; padding: 10px; }
    canvas { width: 100% !important; height: 300px !important; }
    .verified-badge { color: gold; font-weight: bold; margin-left: 10px; }
  </style>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial"></script>
</head>
<body>
  <div id="splash" class="page splash" style="display: block;">
    <h1>üåü ELSA APP üåü<br><small>The Supreme</small></h1>
  </div>  <div id="language" class="page" style="display: none;">
    <h2>Select Language</h2>
    <button onclick="showPage('login')">English</button>
    <button onclick="showPage('login')">Fran√ßais</button>
  </div>  <div id="login" class="page">
    <h2>Login</h2>
    <input class="input" id="loginEmail" placeholder="Email" />
    <input class="input" id="loginPassword" placeholder="Password" type="password" />
    <button class="btn" onclick="login()">Login</button>
    <p>Don't have an account? <a href="#" onclick="showPage('register')">Register</a></p>
  </div>  <div id="register" class="page">
    <h2>Register</h2>
    <input class="input" id="regEmail" placeholder="Email" />
    <input class="input" id="regPassword" placeholder="Password" type="password" />
    <button class="btn" onclick="register()">Register</button>
    <p>Already have an account? <a href="#" onclick="showPage('login')">Login</a></p>
  </div>  <div id="dashboard" class="page">
    <h2>Welcome, <span id="userEmail"></span></h2>
    <p>Balance: $<span id="userBalance">0.00</span></p>
    <div id="chartContainer">
      <canvas id="candlestickChart"></canvas>
    </div>
    <button class="btn" onclick="buyElsa(2)">Buy Elsa ($2)</button>
    <button class="btn" onclick="sellElsa()">Sell Elsa</button>
    <button class="btn" onclick="location.href='https://paystack.com/buy/casino-x-wgojzd'">Deposit (via Paystack)</button>
    <button class="btn" onclick="logout()">Logout</button>
    <footer style="margin-top: 30px; text-align:center; font-size: 0.8em;">Endorsed by Reverend</footer>
  </div>  <div class="nav">
    <button onclick="showPage('dashboard')">üè† Home</button>
    <button onclick="showPage('login')">üë§ Login</button>
    <button onclick="showPage('register')">üìù Register</button>
  </div>  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyC8kLmGOyODdlrvHId2Nz3opdpT0tvD5mk",
      authDomain: "elsa-ab176.firebaseapp.com",
      projectId: "elsa-ab176",
      storageBucket: "elsa-ab176.firebasestorage.app",
      messagingSenderId: "850786583459",
      appId: "1:850786583459:android:5710287d8738f48e8e1016"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
      const page = document.getElementById(pageId);
      if (page) page.style.display = 'block';
    }

    window.onload = () => {
      setTimeout(() => {
        showPage('language');
        drawCandleChart();
      }, 4000);
    };

    function login() {
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      auth.signInWithEmailAndPassword(email, password)
        .then(userCred => {
          const user = userCred.user;
          document.getElementById('userEmail').innerText = user.email;
          showPage('dashboard');
          loadUserData(user.uid);
        })
        .catch(() => alert('Invalid login info'));
    }

    function register() {
      const email = document.getElementById('regEmail').value;
      const password = document.getElementById('regPassword').value;
      auth.createUserWithEmailAndPassword(email, password)
        .then(userCred => {
          const user = userCred.user;
          db.collection("users").doc(user.uid).set({
            balance: email === "eluxxes@gmail.com" ? 2000 : 0,
            email: email
          });
          alert('Registration successful');
          showPage('login');
        })
        .catch(() => alert('Registration failed'));
    }

    function loadUserData(uid) {
      db.collection("users").doc(uid).get().then(doc => {
        const data = doc.data();
        document.getElementById("userBalance").innerText = data.balance.toFixed(2);
      });
    }

    function buyElsa(amount) {
      const user = auth.currentUser;
      if (!user) return alert('Please log in');
      const userRef = db.collection("users").doc(user.uid);
      db.runTransaction(async (tx) => {
        const doc = await tx.get(userRef);
        const balance = doc.data().balance || 0;
        if (balance < amount) throw "Insufficient funds";
        tx.update(userRef, { balance: balance - amount });
      }).then(() => {
        alert("You bought Elsa worth $" + amount);
        loadUserData(user.uid);
      }).catch(err => alert(err));
    }

    function sellElsa() {
      const user = auth.currentUser;
      if (!user) return alert('Please log in');
      const userRef = db.collection("users").doc(user.uid);
      db.runTransaction(async (tx) => {
        const doc = await tx.get(userRef);
        const balance = doc.data().balance || 0;
        const gain = 2.6; // resale value
        tx.update(userRef, { balance: balance + (gain - 0.15) });
      }).then(() => {
        alert("Elsa sold. Admin took $0.15 maintenance fee");
        loadUserData(user.uid);
      }).catch(err => alert(err));
    }

    function logout() {
      auth.signOut();
      showPage('login');
    }

    function drawCandleChart() {
      const ctx = document.getElementById('candlestickChart').getContext('2d');
      const chart = new Chart(ctx, {
        type: 'candlestick',
        data: {
          datasets: [{
            label: 'ELSA',
            data: [
              { x: '2025-06-01', o: 200, h: 210, l: 190, c: 205 },
              { x: '2025-06-02', o: 205, h: 215, l: 200, c: 210 },
              { x: '2025-06-03', o: 210, h: 220, l: 205, c: 215 },
              { x: '2025-06-04', o: 215, h: 230, l: 210, c: 225 }
            ]
          }]
        },
        options: {
          responsive: true,
          animation: { duration: 0 },
          plugins: { legend: { display: false } },
          scales: {
            x: { type: 'timeseries', time: { unit: 'day' } },
            y: { beginAtZero: false }
          }
        }
      });

      // Simulate live updates
      setInterval(() => {
        const now = new Date();
        const price = 210 + Math.floor(Math.random() * 10 - 5);
        chart.data.datasets[0].data.push({
          x: now,
          o: price,
          h: price + 5,
          l: price - 5,
          c: price + Math.floor(Math.random() * 5)
        });
        chart.update();
      }, 5000);
    }
  </script></body>
</html>
